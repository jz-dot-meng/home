(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{7296:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/minigame/memory",function(){return n(3449)}])},2981:function(e,t,n){"use strict";n.d(t,{f:function(){return p}});var i,r,l=n(4788),a=n(2796),s=n(5893),o=n(1309),c=n(7294),d=function(e){var t=(0,l._)({},(0,a._)(e)),n=t.buttonText,i=t.onClick;return(0,s.jsx)("button",{className:"flex-1 p-1 rounded-md cursor-pointer text-white bg-grey-600",onClick:i,children:n})},u=function(e){var t=(0,l._)({},(0,a._)(e)),n=t.state,i=t.controls,r=(0,o._)((0,c.useState)([]),2),u=r[0],m=r[1];(0,c.useEffect)(function(){switch(n){case"Initial":m(i.Initial);break;case"PlayGame":m(i.PlayGame),window.addEventListener("keyup",f,!0);break;case"GameOver":m(i.GameOver),window.removeEventListener("keyup",f,!0)}},[n]);var f=(0,c.useCallback)(function(e){switch(e.code){case"ArrowLeft":void 0!==i.bindLeftArrow&&i.bindLeftArrow();break;case"ArrowRight":void 0!==i.bindRightArrow&&i.bindRightArrow();break;case"ArrowUp":void 0!==i.bindUpArrow&&(i.bindUpArrow(),console.log("arrow up"));break;case"ArrowDown":void 0!==i.bindDownArrow&&i.bindDownArrow()}},[]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex gap-2",children:null==u?void 0:u.map(function(e,t){return(0,s.jsx)(d,{onClick:e.onClick,buttonText:e.buttonText},t)})})})},m=function(e){var t=(0,l._)({},(0,a._)(e)),n=t.state,i=t.details,r=(0,o._)((0,c.useState)([]),2),d=r[0],u=r[1];return(0,c.useEffect)(function(){switch(n){case"Initial":u(i.Initial);break;case"PlayGame":u(i.PlayGame);break;case"GameOver":u(i.GameOver)}},[n,i]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex",children:null==d?void 0:d.map(function(e,t){return(0,s.jsx)("div",{className:"flex flex-1",style:{justifyContent:e.justifyContent},children:(0,s.jsx)("div",{className:"w-fit",children:e.data})},t)})})})},f=n(1664),v=n.n(f),x=n(1178),h=n(1074);(i=r||(r={})).Initial="Initial",i.PlayGame="PlayGame",i.GameOver="GameOver";var p=function(e){var t=(0,l._)({},(0,a._)(e)),n=t.children,i=t.config,r=t.display,o=t.state;return(0,s.jsx)("div",{className:"flex justify-center items-center h-full overflow-hidden p-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-11/12 md:w-1/2 overflow-scroll",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("h4",{children:(0,s.jsx)(v(),{href:"/",children:"@jz-dot-meng"})}),(0,s.jsxs)("div",{className:"flex items-start flex-col gap-1 md:items-end md:flex-row",children:[(0,s.jsx)("h1",{children:r.title}),(0,s.jsxs)("span",{className:"pb-2",children:[" :: ",r.secondaryTitle]})]}),(0,s.jsx)(x.p,{linkMap:h.e,isInternalLink:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{children:r.rules}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(m,{state:o,details:i.gameDetails})}),(0,s.jsx)("div",{className:"min-h-[200px] flex items-center justify-center",children:n}),(0,s.jsx)("div",{children:(0,s.jsx)(u,{state:o,controls:i.gameControls})})]})]})]})})}},1178:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var i=n(4788),r=n(2796),l=n(5893),a=n(1664),s=n.n(a),o=function(e){var t=(0,i._)({},(0,r._)(e)),n=t.linkMap,a=t.isInternalLink,o=void 0!==a&&a;return(0,l.jsx)("ul",{className:"list-none",children:n.map(function(e,t){return(0,l.jsx)("li",{className:"text-lg inline pr-8 text-coral-400 font-bold no-underline",children:o?(0,l.jsx)(s(),{href:e.url,children:e.name}):(0,l.jsx)("a",{href:e.url,children:e.name})},t)})})}},1074:function(e,t,n){"use strict";n.d(t,{e:function(){return i},x:function(){return r}});var i=[{url:"/minigame/memory",name:"Memory"},{url:"/minigame/stroop",name:"Stroop Effect"}],r={"digital-identities-and-impermanence":{title:"digital identities, and impermanence",secondaryTitle:"a reflection, and new beginnings",description:"a short post explaining the reasoning for this new project",firstPosted:new Date(2023,4,21),tags:["blogging"]}}},3449:function(e,t,n){"use strict";n.r(t),n.d(t,{MemoryDisplayMode:function(){return r},default:function(){return v}});var i,r,l=n(1309),a=n(5893),s=n(7294),o=n(2981),c=n(4788),d=n(2796),u=n(4586),m=function(e){var t=(0,c._)({},(0,d._)(e)),n=t.state,i=t.display,r=t.grid,o=t.levelSelection,m=t.handleNextLevel,f=t.handleGameOver,v=t.preventClick,x=(0,l._)((0,s.useState)([]),2),h=x[0],p=x[1],g=(0,l._)((0,s.useState)([]),2),y=g[0],w=g[1];(0,s.useEffect)(function(){for(var e=r[0]*r[1],t=[],n=0;n<e;n++)t.push(n);p(t)},[r]),(0,s.useEffect)(function(){w([])},[o]);var j=function(e){e.forEach(function(e){var t;null===(t=document.getElementById("tile-".concat(e)))||void 0===t||t.classList.remove("memory-correctSelection")})},b=function(e){v(),setTimeout(function(){j(e),setTimeout(function(){m()},500)},500)},_=function(e,t){var n=o.indexOf(e);if(-1===n&&-1===y.indexOf(e))f();else{if(t.target.classList.add("memory-correctSelection"),-1!==y.indexOf(e))return;var i=y.slice();i.push.apply(i,(0,u._)(o.splice(n,1))),w(i),0===o.length&&b(i)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{visibility:"Initial"!==n?"visible":"hidden"},className:"flex items-center justify-center px-1 rounded-md",children:(0,a.jsx)("div",{style:{borderRadius:"1rem",display:"grid",gridTemplateColumns:"repeat(".concat(r[0],", 40px)"),gridTemplateRows:"repeat(".concat(r[1],",40px)")},children:h.map(function(e){return(0,a.jsx)("button",{id:"tile-".concat(e),className:"appearance-none w-10 h-10 bg-grey-300 border\n                                ".concat("Memorise"===i&&-1!==o.indexOf(e)?"memory-correctSelection":""," \n                                ").concat("GameOver"===i&&-1!==o.indexOf(e)&&-1===y.indexOf(e)?"memory-missingSelection":"","\n                                "),onClick:function(t){return _(e,t)},disabled:"Guess"!==i},e)})})})})};(i=r||(r={})).Memorise="Memorise",i.Guess="Guess",i.GameOver="GameOver";var f=[{level:0,dim:[4,4],tiles:0},{level:1,dim:[4,4],tiles:3},{level:2,dim:[4,4],tiles:4},{level:3,dim:[4,4],tiles:5},{level:4,dim:[4,4],tiles:6},{level:5,dim:[4,4],tiles:7},{level:6,dim:[5,4],tiles:7},{level:7,dim:[5,4],tiles:8},{level:8,dim:[5,4],tiles:9},{level:9,dim:[5,4],tiles:10},{level:10,dim:[5,4],tiles:11},{level:11,dim:[5,5],tiles:11},{level:12,dim:[5,5],tiles:12},{level:13,dim:[5,5],tiles:13},{level:14,dim:[5,5],tiles:14},{level:15,dim:[5,5],tiles:15},{level:16,dim:[6,5],tiles:15},{level:17,dim:[6,5],tiles:16},{level:18,dim:[6,5],tiles:17},{level:19,dim:[6,5],tiles:18},{level:20,dim:[6,5],tiles:19}],v=function(){var e=(0,l._)((0,s.useState)("Initial"),2),t=e[0],n=e[1],i=(0,l._)((0,s.useState)("Memorise"),2),r=i[0],c=i[1],d=(0,l._)((0,s.useState)(0),2),u=d[0],v=d[1],x=(0,l._)((0,s.useState)([]),2),h=x[0],p=x[1],g=function(e){for(var t=f[e].tiles,n=f[e].dim[0]*f[e].dim[1],i=new Set;i.size<t;)i.add(Math.floor(Math.random()*n));p(Array.from(i))},y=function(){for(var e,t=0;t<16;t++)try{null===(e=document.getElementById("tile-".concat(t)))||void 0===e||e.classList.remove("memory-correctSelection")}catch(e){}v(1),n("PlayGame"),c("Memorise"),g(1),setTimeout(function(){c("Guess")},1500)};return(0,a.jsx)(o.f,{state:t,display:{title:"memory game",secondaryTitle:"how far can you get?",rules:"select the tiles shown at the beginning of each level"},config:{gameDetails:{Initial:[{data:"Start the game",justifyContent:"flex-start"}],PlayGame:[{data:"Level ".concat(u)}],GameOver:[{data:"Game over: level ".concat(u)}]},gameControls:{Initial:[{buttonText:"Start game",onClick:y}],PlayGame:[],GameOver:[{buttonText:"Play again",onClick:y}]}},children:(0,a.jsx)(m,{state:t,display:r,grid:f[u].dim,levelSelection:h,handleNextLevel:function(){var e=u+1;v(e),c("Memorise"),g(e),setTimeout(function(){c("Guess")},1500)},handleGameOver:function(){n("GameOver"),c("GameOver")},preventClick:function(){return c("Memorise")}})})}},4788:function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,{_:function(){return i}})},2796:function(e,t,n){"use strict";function i(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}n.d(t,{_:function(){return i}})}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=7296)}),_N_E=e.O()}]);